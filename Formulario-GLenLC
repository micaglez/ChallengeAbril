<!-- Archivo guardado en Lightning Component en Trailhead - COMPONENT Y JS -->

<aura:component>
        <aura:attribute name="ClientsAccount" type="Account"
         default="{ 'sobjectType': 'Name',
                        'Name': '',
                        'Height__c': 0,
                        'Gender__c': '',
                        'hair_color__c': '',
                  'eyes_color__c': '',
                  'DNI__c': 0 }"/>
    <!-- PAGE HEADER -->
    <lightning:layout class="slds-page-header slds-page-header_object-home">
        <lightning:layoutItem>
            <lightning:icon iconName="standard:scan_card" alternativeText="Client's Data"/>
        </lightning:layoutItem>
        <lightning:layoutItem padding="horizontal-small">
            <div class="page-section page-header">
                <h1 class="slds-text-heading_label">Client's Account</h1>
                <h2 class="slds-text-heading_medium">Info</h2>
            </div>
        </lightning:layoutItem>
    </lightning:layout>
    <!-- / PAGE HEADER -->
    <!-- NEW EXPENSE FORM -->
    <lightning:layout>
        <lightning:layoutItem padding="around-small" size="6">
    <!-- CREATE NEW EXPENSE -->
    <div aria-labelledby="datosdeclientes">
        <!-- BOXED AREA -->
        <fieldset class="slds-box slds-theme_default slds-container_small">
        <legend id="form" class="slds-text-heading_small
          slds-p-vertical_medium">
          Add Client
        </legend>
        <!-- CREATE NEW CLIENT'S ACCOUNT FORM -->
        <form class="slds-form_stacked">
            <lightning:input aura:id="clientform" label="Name"
                             name="name"
                             value="{!v.newClientes.Name}"
                             required="true"/>
            <lightning:input type="number" aura:id="clientform" label="Height"
                             name="Height"
                             min="001"
                             formatter="currency"
                             step="0.01"
                             value="{!v.newClientes.Height__c}"/>
            <lightning:input type="text" aura:id="clientform" label="Gender"
                             name="genderclient"
                             value="{!v.newClientes.Gender__c}"/>
            <lightning:input type="text" aura:id="clientform" label="Hair Color"
                             name="haircolorclient"
                             value="{!v.newClientes.hair_color__c}"/>
            <lightning:input type="text" aura:id="clientform" label="Eyes Color"
                             name="eyescolorclient"
                             value="{!v.newClientes.eyes_color__c}"/>
<lightning:input type="number" aura:id="clientform" label="DNI"
                             name="Height"
                             min="8"
                             formatter="currency"
                             step="0.01"
                             value="{!v.newClientes.DNI__c}"/>
            <lightning:button label="Search Client"
                              class="slds-m-top_medium"
                              variant="brand"
                              onclick="{!c.datosclientes}"/>
        </form>
        </fieldset>
      </div>
   </lightning:layoutItem>
    </lightning:layout>
    <!-- La siguiente lista es la intenci칩n de crear una BD donde
	tengamos los registros de los clientes. Algunos campos est치n
	incompletos para que puedan ser completados desde el front
    List<Account> clientes=new List<Account>();
clientes.add(new Account(
     new clientes(Name='Carla', Height__c=165,Gender__c='F', hair_color__c='Rubio', eyes_color__c='Marrones',
               DNI=40669823));
    clientes.add(new Account(
      new clientes(Name='Mario', Height__c=170, Gender__c=' ', hair_color__c='Marr칩n', eyes_color__c='Marrones', DNI=32568741));
clientes.add(new Account(
      new clientes(Name='Fabricio', Height__c=177, Gender__c='M', hair_color__c='Negro'),
      eyes_color__c=' ', DNI=37523665));
    clientes.add(new Account(            
      new clientes(Name='Martina', Height__c=158, Gender__c='F', hair_color__c='Marr칩n', eyes_color__c='Verdes',
                   DNI=' '));
                       
database.insert(clientes.true); -->
    
</aura:component>



<!-- JS -->
({
    datosclientes: function(component, event, helper) {
        let validForm = component.find('clientform').reduce(function (validSoFar, inputCmp) {
            // Displays error messages for invalid fields
            inputCmp.showHelpMessageIfInvalid();
            return validSoFar && inputCmp.get('v.validity').valid;
        }, true);

        if(validExpense){
            // Create the new Client
            let newClient = component.get("v.newClient");
            console.log("Create Client: " + JSON.stringify(newClient));
            helper.createClient(component, newClient);
        }
    }
})
